rm(list = ls())
setwd("~/GitHub/CIS_Dispersal/analyses") #set up by AP
setwd("~/GitHub/IL_Wetlands/analyses") #set up by AP
se <- function(x, ...) {
sd(x, na.rm = TRUE)/sqrt(length(na.omit(x)))
}
ci <- function(x, ...) {
1.96 * sd(x, na.rm = TRUE)
}
source("../bin/DiversityFunctions.R")
source("../bin/MothurTools.R")
require("vegan")
require("dplyr")
require("nlme")
require("reshape")
require("BiodiversityR")
require("ecodist")
require("ggplot2")
require("ade4")
require("png")
design2 <- read.csv("../data/design2_CSI.csv", row.names=1)
design2
treatments1 <- design2$Salinity
levels(treatments1) <- c("0","5","9","13")
treatments2 <- design2$Dispersal
levels(treatments2) <- c("0","1","2","3")
CSIdataa <- read.otu("../data/CSI.shared")
CSIdatb <- CSIdataa[which(rowSums(CSIdataa) >= 20000), ]
CSIdata2c <- CSIdatb[grepl("CSI[0-9][0-9]", rownames(CSIdatb)), ]
CSI.datd <- CSIdata2c[, which(colSums(CSIdata2c) >= 2)]
CSIdataPAa <- (CSI.datd > 0) * 1
CSIdataRELa <- CSI.datd
for (i in 1:dim(CSI.datd)[1]) {
CSIdataRELa[i, ] <- CSI.datd[i, ]/sum(CSI.datd[i,
])
}
CSIdataREL.loga <- decostand(CSIdataRELa, method = "log")
install.packages("mass")
install.packages("mass")
library(MASS)
da <- dist(CSIdataRELa1)
install.packages("MASS")
install.packages("MASS")
library(MASS)
da <- dist(CSIdataRELa1)
CSIdataREL.loga <- decostand(CSIdataRELa, method = "log")
da <- dist(CSIdataRELa1)
CSIdataRELa <- CSI.datd
for (i in 1:dim(CSI.datd)[1]) {
CSIdataRELa[i, ] <- CSI.datd[i, ]/sum(CSI.datd[i,
])
}
CSIdataRELa
CSIdataREL.loga <- decostand(CSIdataRELa, method = "log")
da <- vegdist(CSIdataRELa, method="bray")
fita <- metaMDS(da,k=2)
fita
CSIdataRELa <- CSI.datd
for (i in 1:dim(CSI.datd)[1]) {
CSIdataRELa[i, ] <- CSI.datd[i, ]/sum(CSI.datd[i,
])
}
da <- vegdist(CSIdataRELa, method="bray")
write.table(CSI.tax1, file = "tax.csv", sep = ",",
col.names = NA)
CSIdataRELa <- CSI.datd
for (i in 1:dim(CSI.datd)[1]) {
CSIdataRELa[i, ] <- CSI.datd[i, ]/sum(CSI.datd[i,
])
}
CSI.tax1 <- read.tax(taxonomy = "../data/CSI.0.03.cons.taxonomy")
write.table(CSI.tax1, file = "tax.csv", sep = ",",
col.names = NA)
aa <- min(rowSums(CSI.datd))
aa
design2
design3 <- read.csv(../data/design2_CSI.csv)
design3 <- read.csv(../data/design2_CSI.csv, row.names = 1)
design3 <- read.csv(../data/design2_CSI.csv", row.names = 1)
#design3 <- read.csv("E:/Grad/Mothur/mothur/design_CSI.csv", row.names = 1)
design3 <- read.csv("../data/design2_CSI.csv", row.names = 1)
newCSIdatd <- cbind(design3,CSIdataRELa)
